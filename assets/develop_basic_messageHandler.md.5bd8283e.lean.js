import{_ as a,o as n,c as l,S as o}from"./chunks/framework.e7d5bd7a.js";const i=JSON.parse('{"title":"æ³¨å†Œæ¶ˆæ¯å“åº”å™¨","description":"","frontmatter":{},"headers":[],"relativePath":"develop/basic/messageHandler.md","filePath":"develop/basic/messageHandler.md","lastUpdated":1762506263000}'),p={name:"develop/basic/messageHandler.md"};function t(e,s,c,r,y,F){return n(),l("div",null,[...s[0]||(s[0]=[o(`<h1 id="æ³¨å†Œæ¶ˆæ¯å“åº”å™¨" tabindex="-1">æ³¨å†Œæ¶ˆæ¯å“åº”å™¨ <a class="header-anchor" href="#æ³¨å†Œæ¶ˆæ¯å“åº”å™¨" aria-label="Permalink to &quot;æ³¨å†Œæ¶ˆæ¯å“åº”å™¨&quot;">â€‹</a></h1><p>AmiyaBot åŠŸèƒ½å¼€å‘çš„å…³é”®æ¨¡å—ä¸€å…±æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ <code>AmiyaBot</code>ã€<code>Message</code>å’Œ<code>Chain</code>ã€‚</p><ul><li><code>AmiyaBot</code> ä¸ºæœºå™¨äººå®ä¾‹ï¼ŒåŒ…å«äº†æ¶ˆæ¯å’Œäº‹ä»¶çš„æ³¨å†Œå™¨ã€‚</li><li><code>Message</code> ä¸ºæ¥æ”¶çš„æ¶ˆæ¯ä¸»ä½“ï¼Œå†…å«é¢„è§£æçš„æ¶ˆæ¯å†…å®¹ï¼Œä»¥åŠä¸€äº›ç›¸å…³æ“ä½œå‡½æ•°ã€‚Message å¯¹è±¡åœ¨æ­¤ä»…ç”¨äºå‚æ•°ç±»å‹æ³¨è§£ï¼Œä¾›ç¼–è¾‘å™¨æ™ºèƒ½æç¤ºä½¿ç”¨ï¼Œä»»ä½•æ—¶å€™ï¼Œä½ éƒ½ä¸éœ€è¦å®ä¾‹åŒ– Message å¯¹è±¡ã€‚</li><li><code>Chain</code> ä¸ºæœºå™¨äººæ¶ˆæ¯çš„åˆ›å»ºå·¥å…·ã€‚ä»»ä½•éœ€è¦å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œæ¶ˆæ¯éƒ½å¿…é¡»ç”± Chain ç±»åˆ›å»ºã€‚æ ¸å¿ƒä¼šè°ƒç”¨ Chain ç±»çš„ build æ–¹æ³•ç”Ÿæˆæ¶ˆæ¯é“¾ã€‚</li></ul><p>é¦–å…ˆéœ€è¦çŸ¥é“çš„æ˜¯ï¼Œ<strong>å¦‚ä½•æ³¨å†Œæ¶ˆæ¯å“åº”</strong>ã€‚</p><h2 id="on-message-è£…é¥°å™¨" tabindex="-1">on_message è£…é¥°å™¨ <a class="header-anchor" href="#on-message-è£…é¥°å™¨" aria-label="Permalink to &quot;on_message è£…é¥°å™¨&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">ä½•ä¸ºæœºå™¨äººçš„åŠŸèƒ½ï¼Ÿ<br></p><p>æ¶ˆæ¯å“åº”æˆ‘ä»¬ä¼šåœ¨åç»­çš„æ–‡æ¡£ç§°ä¹‹ä¸º<strong>åŠŸèƒ½</strong>ï¼Œå› ä¸ºæœºå™¨äººçš„ä¸»è¦åŠŸèƒ½ï¼Œä¸€èˆ¬å°±æ˜¯é€šè¿‡å“åº”ç”¨æˆ·çš„æ¶ˆæ¯å®ç°çš„ã€‚</p></div><p>è£…é¥°å™¨ <code>on_message</code> ä½œç”¨äºä½ çš„ä¸šåŠ¡é€»è¾‘ä¸»ä½“å‡½æ•°ï¼Œä»¥æ­¤æ³¨å†Œæ¶ˆæ¯å“åº”æ¥å®ç°ä½ çš„æœºå™¨äººåŠŸèƒ½ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># å½“å’Œæœºå™¨äººçš„å¯¹è¯ä¸­åŒ…å« &#39;hello&#39; å…³é”®å­—æ—¶ï¼Œå°†ä¼šè§¦å‘è¯¥å‡½æ•°</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h4 id="å‚æ•°åˆ—è¡¨" tabindex="-1">å‚æ•°åˆ—è¡¨ <a class="header-anchor" href="#å‚æ•°åˆ—è¡¨" aria-label="Permalink to &quot;å‚æ•°åˆ—è¡¨&quot;">â€‹</a></h4><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>é‡Šä¹‰</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>group_id</td><td>str</td><td>åŠŸèƒ½ç»„ID</td><td></td></tr><tr><td>keywords</td><td></td><td>è§¦å‘å…³é”®å­—ï¼Œæ”¯æŒå¤šç§ç±»å‹ï¼Œè¯¦è§æœ¬ç« æ–‡æ¡£</td><td></td></tr><tr><td>verify</td><td>Callable</td><td>è‡ªå®šä¹‰æ ¡éªŒæ–¹æ³•ï¼Œå½“è¯¥å‚æ•°è¢«èµ‹å€¼æ—¶ï¼Œkeywords å°†ä¼šå¤±æ•ˆ</td><td></td></tr><tr><td>check_prefix</td><td>bool</td><td>æ˜¯å¦æ ¡éªŒå‰ç¼€æˆ–æŒ‡å®šéœ€è¦æ ¡éªŒçš„å‰ç¼€</td><td>True</td></tr><tr><td>allow_direct</td><td>bool</td><td>æ˜¯å¦æ”¯æŒé€šè¿‡ç§ä¿¡ä½¿ç”¨è¯¥åŠŸèƒ½</td><td>False</td></tr><tr><td>direct_only</td><td>bool</td><td>æ˜¯å¦ä»…æ”¯æŒç§ä¿¡</td><td>False</td></tr><tr><td>level</td><td>int</td><td>å…³é”®å­—æ ¡éªŒæˆåŠŸåå‡½æ•°çš„å€™é€‰é»˜è®¤ç­‰çº§</td><td>0</td></tr></tbody></table><h2 id="åŠŸèƒ½ç»„" tabindex="-1">åŠŸèƒ½ç»„ <a class="header-anchor" href="#åŠŸèƒ½ç»„" aria-label="Permalink to &quot;åŠŸèƒ½ç»„&quot;">â€‹</a></h2><p>å‚æ•° <code>group_id</code> å¯ä»¥ä¸ºè¯¥åŠŸèƒ½è®¾ç½®åŠŸèƒ½ç»„ã€‚åŠŸèƒ½ç»„å¯ä»¥æ‰¹é‡ä¸ºåŠŸèƒ½è®¾ç½®å‚æ•°ã€‚</p><p>å®ä¾‹åŒ– <strong>GroupConfig</strong> å¯¹è±¡åˆ›å»ºä¸€ä¸ªåŠŸèƒ½ç»„ï¼Œå¹¶å°†å…¶è®¾ç½®åˆ° bot å®ä¾‹å†…ã€‚</p><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>é‡Šä¹‰</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>group_id</td><td>str</td><td>åŠŸèƒ½ç»„ID</td><td></td></tr><tr><td>check_prefix</td><td>bool</td><td>æ˜¯å¦æ ¡éªŒå‰ç¼€æˆ–æŒ‡å®šéœ€è¦æ ¡éªŒçš„å‰ç¼€</td><td>True</td></tr><tr><td>allow_direct</td><td>bool</td><td>æ˜¯å¦æ”¯æŒé€šè¿‡ç§ä¿¡ä½¿ç”¨è¯¥åŠŸèƒ½</td><td>False</td></tr><tr><td>direct_only</td><td>bool</td><td>æ˜¯å¦ä»…æ”¯æŒç§ä¿¡</td><td>False</td></tr></tbody></table><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> amiyabot </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> GroupConfig</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">fn_group </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">GroupConfig</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">check_prefix</span><span style="color:#89DDFF;">=False)</span></span>
<span class="line"><span style="color:#BABED8;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set_group_config</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fn_group</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;"># æ³¨å†ŒåŠŸèƒ½ç»„</span></span></code></pre></div><p>ä¸ºæ¶ˆæ¯å“åº”è®¾ç½® <code>group_id</code> å‚æ•°</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># ä¼ å…¥åŠŸèƒ½ç»„åç§°è®¾ç½®ç»„åˆ«</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">group_id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    ...</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä¼ å…¥åŠŸèƒ½ç»„å¯¹è±¡è®¾ç½®ç»„åˆ«ï¼ˆæ•ˆæœç›¸åŒï¼‰</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">group_id</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">fn_group</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    ...</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">æ³¨æ„<br></p><p>ä»…å½“ on_message é‡Œæ²¡æœ‰è®¾ç½®è¯¥å‚æ•°æ—¶ï¼ŒåŠŸèƒ½ç»„çš„å‚æ•°æ‰ä¼šå¯¹å…¶ç”Ÿæ•ˆã€‚å¦åˆ™ä¼˜å…ˆä½¿ç”¨ on_message çš„å‚æ•°ã€‚</p></div><h2 id="ç§åŸŸæ¨¡å¼çš„å‰ç¼€æ ¡éªŒ" tabindex="-1">ç§åŸŸæ¨¡å¼çš„å‰ç¼€æ ¡éªŒ <a class="header-anchor" href="#ç§åŸŸæ¨¡å¼çš„å‰ç¼€æ ¡éªŒ" aria-label="Permalink to &quot;ç§åŸŸæ¨¡å¼çš„å‰ç¼€æ ¡éªŒ&quot;">â€‹</a></h2><p>AmiyaBot ç§åŸŸæ¨¡å¼å»ºè®®åœ¨å¯¹è¯ä¸­åŒ…å«æŒ‡å®šå‰ç¼€æ‰èƒ½è¿›å…¥æ¶ˆæ¯åˆ†é…å™¨ã€‚è®¾ç½®å‰ç¼€è§¦å‘è¯åï¼Œåœ¨ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ <code>å¿½ç•¥å‰ç¼€æ£€æŸ¥</code> å’Œ <code>æ ¡éªŒå®Œå…¨åŒ¹é…</code> çš„æ–¹å¼ç»•è¿‡æ£€æŸ¥ã€‚</p><h3 id="æ¥æ”¶ä¸åŒ…å«å‰ç¼€çš„æ¶ˆæ¯" tabindex="-1">æ¥æ”¶ä¸åŒ…å«å‰ç¼€çš„æ¶ˆæ¯ <a class="header-anchor" href="#æ¥æ”¶ä¸åŒ…å«å‰ç¼€çš„æ¶ˆæ¯" aria-label="Permalink to &quot;æ¥æ”¶ä¸åŒ…å«å‰ç¼€çš„æ¶ˆæ¯&quot;">â€‹</a></h3><p>æ·»åŠ å‚æ•° <code>check_prefix=False</code> å¯å¿½ç•¥å‰ç¼€æ£€æŸ¥</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">check_prefix</span><span style="color:#89DDFF;">=False)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h3 id="æ¥æ”¶æŒ‡å®šå‰ç¼€çš„æ¶ˆæ¯" tabindex="-1">æ¥æ”¶æŒ‡å®šå‰ç¼€çš„æ¶ˆæ¯ <a class="header-anchor" href="#æ¥æ”¶æŒ‡å®šå‰ç¼€çš„æ¶ˆæ¯" aria-label="Permalink to &quot;æ¥æ”¶æŒ‡å®šå‰ç¼€çš„æ¶ˆæ¯&quot;">â€‹</a></h3><p><code>check_prefix</code> å‚æ•°æ”¹ä¸ºå­—ç¬¦ä¸²åˆ—è¡¨å¯ä»¥ä¸´æ—¶ä¿®æ”¹å‰ç¼€æ£€æŸ¥ä¸ºæŒ‡å®šå•è¯</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">check_prefix</span><span style="color:#89DDFF;">=[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">amiya</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ğŸ°</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="æ ¡éªŒç¬¦åˆæ­£åˆ™æ£€æŸ¥çš„å¥å¼" tabindex="-1">æ ¡éªŒç¬¦åˆæ­£åˆ™æ£€æŸ¥çš„å¥å¼ <a class="header-anchor" href="#æ ¡éªŒç¬¦åˆæ­£åˆ™æ£€æŸ¥çš„å¥å¼" aria-label="Permalink to &quot;æ ¡éªŒç¬¦åˆæ­£åˆ™æ£€æŸ¥çš„å¥å¼&quot;">â€‹</a></h2><p>å…³é”®å­—ä¼ å…¥ <code>re.compile</code> å¯¹è±¡ï¼Œå¯ä»¥æ£€æŸ¥å¯¹è¯æ–‡æœ¬æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> re</span></span>
<span class="line"><span style="color:#BABED8;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">re</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compile</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">helloï¼Œ\\d</span><span style="color:#89DDFF;">+&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="æ ¡éªŒå®Œå…¨åŒ¹é…çš„å¥å¼" tabindex="-1">æ ¡éªŒå®Œå…¨åŒ¹é…çš„å¥å¼ <a class="header-anchor" href="#æ ¡éªŒå®Œå…¨åŒ¹é…çš„å¥å¼" aria-label="Permalink to &quot;æ ¡éªŒå®Œå…¨åŒ¹é…çš„å¥å¼&quot;">â€‹</a></h2><p>å®Œå…¨åŒ¹é…çš„å¥å¼æŒ‡å¯¹è¯çš„æ–‡æœ¬å†…å®¹<strong>å…¨ç­‰äº</strong> keyword å…³é”®å­—ï¼ˆä¸åŒ…æ‹¬ @ éƒ¨åˆ†ï¼‰ï¼Œä½¿ç”¨å·¥å…·ç±» <code>Equal</code> å³å¯è¾¾åˆ°æ•ˆæœã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> amiyabot </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Equal</span></span>
<span class="line"><span style="color:#BABED8;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">Equal</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello, amiya</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">æç¤º<br></p><p>åœ¨ç§åŸŸæœºå™¨äººä¸‹ä¸”ä¸éœ€è¦ @ å”¤èµ·çš„åœºåˆï¼ŒEqual ä¼šæ— è§†å‰ç¼€æ£€æŸ¥ã€‚</p></div><h2 id="ç»„åˆå¤šä¸ªå’Œå¤šç§-keywords" tabindex="-1">ç»„åˆå¤šä¸ªå’Œå¤šç§ keywords <a class="header-anchor" href="#ç»„åˆå¤šä¸ªå’Œå¤šç§-keywords" aria-label="Permalink to &quot;ç»„åˆå¤šä¸ªå’Œå¤šç§ keywords&quot;">â€‹</a></h2><p>keywords æ”¯æŒç”± <code>å­—ç¬¦ä¸²ã€æ­£åˆ™ã€Equal</code> æ„æˆçš„åˆ—è¡¨ï¼Œç»„åˆä¸­åŒ…å« <code>Equal</code> æ—¶ï¼Œ<code>Equal</code> ä¾ç„¶ä¼šæ— è§†å‰ç¼€æ£€æŸ¥ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=[</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        Equal</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello, amiya</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">        re</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compile</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">helloï¼Œ</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">+)&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="åŠŸèƒ½ä¼˜å…ˆçº§" tabindex="-1">åŠŸèƒ½ä¼˜å…ˆçº§ <a class="header-anchor" href="#åŠŸèƒ½ä¼˜å…ˆçº§" aria-label="Permalink to &quot;åŠŸèƒ½ä¼˜å…ˆçº§&quot;">â€‹</a></h2><p>å½“å…³é”®å­—æ ¡éªŒå­˜åœ¨å†²çªæ—¶ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šä¼˜å…ˆçº§ä¾›æ¶ˆæ¯åˆ†é…å™¨é€‰æ‹©ã€‚<br> åˆ†é…å™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯åœ¨å®Œæˆæ£€æŸ¥ä¹‹åï¼Œå°†é€šè¿‡æ ¡éªŒçš„å€™é€‰å‡½æ•°åˆ—è¡¨æŒ‰ä¼˜å…ˆçº§å€’åºæ’åºï¼Œç„¶åé€‰å–ç¬¬ä¸€ä¸ªæ‰§è¡Œã€‚<br> æ‰€æœ‰å‡½æ•°çš„é»˜è®¤ä¼˜å…ˆçº§éƒ½ä¸º <code>1</code>ï¼Œå¦‚æœä¸æŒ‡å®šä¼˜å…ˆçº§ï¼Œåˆ†é…å™¨ä¼šæŒ‰ç…§åŠ è½½çš„å…ˆåé¡ºåºé€‰æ‹©ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># å¦‚æœä¸æŒ‡å®šä¼˜å…ˆçº§ï¼Œå½“å¯¹è¯å†…å®¹ä¸º &quot;helloworld&quot; æ—¶ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°ä¼šé¦–å…ˆé€šè¿‡æ ¡éªŒå¹¶è¾“å‡ºã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å› ä¸ºåœ¨æ¨¡å—åŠ è½½é˜¶æ®µï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æ›´æ—©æ³¨å†Œå®Œæ¯•ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">level</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">helloworld</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">level</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">helloï¼Œworld</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">æç¤º<br></p><p>ä¼˜å…ˆçº§å…è®¸ä¸º 0 æˆ–<strong>è´Ÿæ•°</strong>ã€‚</p></div><h2 id="è‡ªå®šä¹‰æ£€æŸ¥" tabindex="-1">è‡ªå®šä¹‰æ£€æŸ¥ <a class="header-anchor" href="#è‡ªå®šä¹‰æ£€æŸ¥" aria-label="Permalink to &quot;è‡ªå®šä¹‰æ£€æŸ¥&quot;">â€‹</a></h2><p>å½“å…³é”®å­—æ£€æŸ¥æ— æ³•æ»¡è¶³åŠŸèƒ½çš„è§¦å‘æ–¹å¼æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æ£€æŸ¥ã€‚<br> è‡ªå®šä¹‰æ£€æŸ¥æ˜¯ä¸€ä¸ªåç¨‹å‡½æ•°ï¼Œå‚æ•°ä¸º Message å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª<code>å¸ƒå°”å€¼ï¼ˆå¿…é€‰ï¼‰</code>ã€<code>ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰</code> å’Œ <code>å…³é”®å€¼ï¼ˆå¯é€‰ï¼‰</code>çš„å…ƒç»„ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">my_verify</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">in</span><span style="color:#BABED8;"> data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">True</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">verify</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">my_verify</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>å½“æ¶ˆæ¯å“åº”è·å¾—æ‰§è¡Œæƒï¼Œè‡ªå®šä¹‰æ£€æŸ¥ç»“æœï¼ˆVerifyï¼‰å°†å‚¨å­˜åœ¨ Message.verify ä¸­ã€‚</p><p><strong>Verify å¯¹è±¡</strong></p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td>result</td><td>bool</td><td>æ£€æŸ¥ç»“æœ</td></tr><tr><td>weight</td><td>int</td><td>ä¼˜å…ˆçº§</td></tr><tr><td>keypoint</td><td>Any</td><td>å…³é”®å€¼ä¿¡æ¯</td></tr></tbody></table><h3 id="åŠ¨æ€è¾“å‡ºä¼˜å…ˆçº§çš„å€¼" tabindex="-1">åŠ¨æ€è¾“å‡ºä¼˜å…ˆçº§çš„å€¼ <a class="header-anchor" href="#åŠ¨æ€è¾“å‡ºä¼˜å…ˆçº§çš„å€¼" aria-label="Permalink to &quot;åŠ¨æ€è¾“å‡ºä¼˜å…ˆçº§çš„å€¼&quot;">â€‹</a></h3><p>è¿”å›å…ƒç»„ç¬¬äºŒä¸ªå€¼ï¼Œå³å¯ä»¥æŒ‡å®šåŠ¨æ€ä¼˜å…ˆçº§ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">my_verify</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> ...</span><span style="color:#89DDFF;">:</span></span>
<span class="line highlighted"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">True,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">elif</span><span style="color:#BABED8;"> ...</span><span style="color:#89DDFF;">:</span></span>
<span class="line highlighted"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">True,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">False</span></span></code></pre></div><h3 id="è¾“å‡ºå…³é”®å€¼" tabindex="-1">è¾“å‡ºå…³é”®å€¼ <a class="header-anchor" href="#è¾“å‡ºå…³é”®å€¼" aria-label="Permalink to &quot;è¾“å‡ºå…³é”®å€¼&quot;">â€‹</a></h3><p>è¿”å›å…ƒç»„ç¬¬ä¸‰ä¸ªå€¼ï¼Œå¯ä»¥å‘ Message çš„æ£€æŸ¥ç»“æœé‡Œæ·»åŠ å…³é”®å€¼ä¿¡æ¯ã€‚å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">my_verify</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> ...</span><span style="color:#89DDFF;">:</span></span>
<span class="line highlighted"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">True,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">my name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">False</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">verify</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">my_verify</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line highlighted"><span style="color:#BABED8;">    info </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">verify</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">keypoint</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># {&#39;name&#39;: &#39;my name&#39;}</span></span></code></pre></div><h2 id="ä½¿åŠŸèƒ½åœ¨ç§ä¿¡é‡Œå¯ç”¨" tabindex="-1">ä½¿åŠŸèƒ½åœ¨ç§ä¿¡é‡Œå¯ç”¨ <a class="header-anchor" href="#ä½¿åŠŸèƒ½åœ¨ç§ä¿¡é‡Œå¯ç”¨" aria-label="Permalink to &quot;ä½¿åŠŸèƒ½åœ¨ç§ä¿¡é‡Œå¯ç”¨&quot;">â€‹</a></h2><p>è®¾ç½®å‚æ•° <code>allow_direct=True</code>ï¼Œå…è®¸åŠŸèƒ½åœ¨ç§ä¿¡é‡Œè§¦å‘ã€‚<br> è®¾ç½®å‚æ•° <code>direct_only=True</code>ï¼ŒåŠŸèƒ½ä»…ç§ä¿¡å¯è§¦å‘ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">allow_direct</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hello, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä»…ç§ä¿¡å¯è§¦å‘</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on_message</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">keywords</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">direct_only</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Message</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;hey, </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">nickname</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div>`,55)])])}const A=a(p,[["render",t]]);export{i as __pageData,A as default};
